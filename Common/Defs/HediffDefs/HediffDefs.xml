<?xml version="1.0" encoding="utf-8" ?>
<Defs>
    <!-- Growth Vat vanilla replacement Hediffs -->
	<HediffDef>
		<defName>EnhancedVatLearningHediff</defName>
		<label>vat learning (overclocked)</label>
		<description>The growth vat is rapidly stimulating this person's brain with electricity to induce skill development and personal growth. This process is nearly as effective as growing in the outside world.</description>
		<hediffClass>Hediff_VatLearning</hediffClass>
		<everCurableByItem>false</everCurableByItem>
		<initialSeverity>0.001</initialSeverity>
		<maxSeverity>1</maxSeverity>
		<isBad>false</isBad>
        <comps>
            <li Class="HediffCompProperties_SeverityPerDay">
                <severityPerDay>3</severityPerDay>
            </li>
            <li>
                <compClass>EnhancedGrowthVatLearning.Hediffs.HediffComp_VatLearningModeOverride</compClass>
            </li>
        </comps>
	</HediffDef>

    <HediffDef>
        <defName>EnhancedVatGrowingHediff</defName>
        <label>vat growing (reduced speed)</label>
        <description>The growth vat is stimulating this person's body to increase the rate of cell division and aging. It is running at reduced speed to free up resources for overclocked learning hardware.</description>
        <hediffClass>HediffWithComps</hediffClass>
        <everCurableByItem>false</everCurableByItem>
        <isBad>false</isBad>
        <comps>
            <li>
                <compClass>GrowthVatsOverclocked.Hediffs.HediffComp_EnhancedVatGrowing</compClass>
            </li>
        </comps>
    </HediffDef>


    <!-- Vatgrown Mental Stress -->
    <HediffDef>
        <defName>VatgrowthStressBuildup</defName>
        <hediffClass>HediffWithComps</hediffClass>
        <label>vat growth stress buildup</label>
        <description>Long-term exposure to accelerated growth in a vat. While this process has no direct negative effects, extended time spent in simulated realities can cause significant mental issues. When not actively growing in a vat buildup quickly decreases. Make sure to schedule regular time out of the growth vat to reduce the possibility of complications.</description>
        <minSeverity>0</minSeverity>
        <initialSeverity>0.001</initialSeverity>
        <maxSeverity>1</maxSeverity>
        <hediffGivers>
            <li Class="GrowthVatsOverclocked.Hediffs.HediffGiver_RandomSeverityCurved">
                <hediff>VatgrowthStress</hediff>
                <allowOnLodgers>false</allowOnLodgers>
                <allowOnBeggars>false</allowOnBeggars>
                <minCauseSeverity>0.5</minCauseSeverity>
                <minAge>13</minAge> <!-- until 13 kids can get out of vat with no chance of breaking (adaptable young minds) -->
                <partsToAffect>
                    <li>Brain</li>
                </partsToAffect>
                <mtbSeverityCurve>
                    <points>
                        <li>(0.5, 8)</li>
                        <li>(1, 0.5)</li>
                    </points>
                </mtbSeverityCurve>
            </li>
        </hediffGivers>
        <stages>
            <li>
                <label>safe</label>
            </li>
            <li>
                <minSeverity>0.5</minSeverity>
                <label>dangerous</label>
                <becomeVisible>true</becomeVisible>
            </li>
        </stages>
        <comps>
            <li>
                <compClass>GrowthVatsOverclocked.Hediffs.HediffComp_TickInGrowthVat</compClass>
            </li>
            <li Class="HediffCompProperties_Discoverable">

            </li>
            <li Class="HediffCompProperties_SeverityPerDay">
                <compClass>GrowthVatsOverclocked.Hediffs.HediffComp_SeverityPerDayNotInVat</compClass>
                <!-- spending 2 days out of the vat removes the hediff. 24hrs will always be enough for reducing to safe levels -->
                <severityPerDay>-0.5</severityPerDay>
            </li>
            <li Class="GrowthVatsOverclocked.Hediffs.HediffCompProperties_SeverityPerDayInVat">
                <!-- naturally raises to just under 0.5 severity over 18 years of vat growth at any speed. -->
                <severityPerGrownYear>0.02777</severityPerGrownYear>
                <!-- add 10% to severity gain per dose of vatjuice in system -->
                <vatjuicePerDoseSeverityModifier>0.1</vatjuicePerDoseSeverityModifier>
                <!-- add 3% to severity gain per growth points per day given. 2 GPPD (vanilla vat growth) = 6% extra severity. 18 GPPD (max learning need) = 54% extra stress gain -->
                <learningNeedSeverityModifier>0.005</learningNeedSeverityModifier>
            </li>
        </comps>
    </HediffDef>

    <HediffDef>
        <defName>VatgrowthStress</defName>
        <hediffClass>HediffWithComps</hediffClass>
        <label>Post-Vatgrowth Stress Disorder</label>
        <description>Post-Vatgrowth Stress Disorder caused by accelerated mental development in a growth vat using lifelike simulations. Symptoms include negative thoughts and a high chance of suffering an existential crisis and wandering in confusion, going wild, giving up or falling catatonic. This person will recover by themselves given time, but counseling can reduce the risk of problems in the meantime.</description>
        <descriptionShort>Psychological stress caused by accelerated development in a growth vat.</descriptionShort>
        <scenarioCanAdd>true</scenarioCanAdd>
        <maxSeverity>1</maxSeverity>
        <stages>
            <li>
                <label>foggy</label>
            </li>
            <li>
                <label>confused</label>
                <minSeverity>0.5</minSeverity>
            </li>
            <li>
                <label>in denial</label>
                <minSeverity>0.75</minSeverity>
            </li>
            <li>
                <label>full psychosis</label>
                <minSeverity>0.9</minSeverity>
            </li>
        </stages>
        <comps>
            <li Class="GrowthVatsOverclocked.Hediffs.HediffCompProperties_CounselHediffThought">
                <thoughtDef>VatgrownStressThought</thoughtDef>
            </li>
            <li Class="GrowthVatsOverclocked.Hediffs.HediffCompProperties_MentalBreaksFromThoughtStage">
                <thoughtDef>VatgrownStressThought</thoughtDef>
                <thoughtStageMtbCurve>
                    <points>
                        <li>(0, 1)</li>
                        <li>(1, 2)</li>
                        <li>(2, 3)</li>
                        <li>(3, 5)</li>
                    </points>
                </thoughtStageMtbCurve>
                <cutoffOverMtbDays>35</cutoffOverMtbDays>
                <thoughtBreaks>
                    <li>
                        <mentalBreak>Wander_Sad</mentalBreak>
                        <mtbDays>6</mtbDays>                        <!-- s1: 06, s2: 3.00, s3: 2.00, s4: 1.2-->
                    </li>
                    <li>
                        <mentalBreak>Wander_OwnRoom</mentalBreak>
                        <mtbDays>6</mtbDays>                        <!-- s1: 06, s2: 3.00, s3: 2.00, s4: 1.2-->
                    </li>
                    <li>
                        <mentalBreak>IdeoChange</mentalBreak>
                        <mtbDays>15</mtbDays>                       <!-- s1: 15, s2: 7.50, s3: 5.00, s4: 3-->
                    </li>
                    <li>
                        <mentalBreak>Catatonic</mentalBreak>
                        <mtbDays>60</mtbDays>                       <!-- s1: .., s2: 30.0, s3: 20.0, s4: 12-->
                    </li>
                    <li>
                        <mentalBreak>RunWild</mentalBreak>
                        <mtbDays>75</mtbDays>                       <!-- s1: .., s2: ...., s3: 25.0, s4: 15-->
                    </li>
                    <li>
                        <mentalBreak>GiveUpExit</mentalBreak>
                        <mtbDays>75</mtbDays>                       <!-- s1: .., s2: ...., s3: 25.0, s4: 15-->
                    </li>
                </thoughtBreaks>
            </li>
        </comps>
    </HediffDef>
</Defs>